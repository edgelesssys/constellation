<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-2.22 docs-doc-page docs-doc-id-workflows/config" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Configure your cluster | Constellation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.edgeless.systems/constellation/2.22/workflows/config"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="2.22"><meta data-rh="true" name="docusaurus_tag" content="docs-default-2.22"><meta data-rh="true" name="docsearch:version" content="2.22"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-2.22"><meta data-rh="true" property="og:title" content="Configure your cluster | Constellation"><meta data-rh="true" name="description" content="This recording presents the essence of this page. It&#x27;s recommended to read it in full for the motivation and all details."><meta data-rh="true" property="og:description" content="This recording presents the essence of this page. It&#x27;s recommended to read it in full for the motivation and all details."><link data-rh="true" rel="icon" href="/constellation/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.edgeless.systems/constellation/2.22/workflows/config"><link data-rh="true" rel="alternate" href="https://docs.edgeless.systems/constellation/2.22/workflows/config" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.edgeless.systems/constellation/2.22/workflows/config" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Workflows","item":"https://docs.edgeless.systems/constellation/2.22/category/workflows"},{"@type":"ListItem","position":2,"name":"Configure your cluster","item":"https://docs.edgeless.systems/constellation/2.22/workflows/config"}]}</script><script src="/constellation/gtagman.js" async data-cookieconsent="ignore"></script><link rel="stylesheet" href="/constellation/assets/css/styles.9ca3c5b3.css">
<script src="/constellation/assets/js/runtime~main.87c4c513.js" defer="defer"></script>
<script src="/constellation/assets/js/main.add27954.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>document.documentElement.setAttribute("data-theme","light"),document.documentElement.setAttribute("data-theme-choice","light"),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="theme-announcement-bar announcementBar_mb4j" style="background-color:#E7E6E6" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">If you like Constellation, give it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/edgelesssys/constellation">GitHub</a> ⭐️</div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/constellation/"><div class="navbar__logo"><img src="/constellation/img/logos/constellation_oneline.svg" alt="Constellation Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/constellation/img/logos/constellation_oneline.svg" alt="Constellation Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/constellation/2.22/workflows/config">2.22</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/constellation/next/workflows/config">Next</a></li><li><a class="dropdown__link" href="/constellation/workflows/config">2.24</a></li><li><a class="dropdown__link" href="/constellation/2.23/workflows/config">2.23</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/constellation/2.22/workflows/config">2.22</a></li></ul></div><a href="https://github.com/edgelesssys/constellation" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="navbarSearchContainer_Bca1"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-2.22"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/constellation/2.22/"><span title="Introduction" class="linkLabel_WmDU">Introduction</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/constellation/2.22/category/basics"><span title="Basics" class="categoryLinkLabel_W154">Basics</span></a><button aria-label="Expand sidebar category &#x27;Basics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/constellation/2.22/category/getting-started"><span title="Getting started" class="categoryLinkLabel_W154">Getting started</span></a><button aria-label="Expand sidebar category &#x27;Getting started&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/constellation/2.22/category/workflows"><span title="Workflows" class="categoryLinkLabel_W154">Workflows</span></a><button aria-label="Collapse sidebar category &#x27;Workflows&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/constellation/2.22/workflows/verify-cli"><span title="Verify the CLI" class="linkLabel_WmDU">Verify the CLI</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/constellation/2.22/workflows/config"><span title="Configure your cluster" class="linkLabel_WmDU">Configure your cluster</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/constellation/2.22/workflows/create"><span title="Create your cluster" class="linkLabel_WmDU">Create your cluster</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/constellation/2.22/workflows/scale"><span title="Scale your cluster" class="linkLabel_WmDU">Scale your cluster</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/constellation/2.22/workflows/upgrade"><span title="Upgrade your cluster" class="linkLabel_WmDU">Upgrade your cluster</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/constellation/2.22/workflows/lb"><span title="Expose a service" class="linkLabel_WmDU">Expose a service</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/constellation/2.22/workflows/cert-manager"><span title="Install cert-manager" class="linkLabel_WmDU">Install cert-manager</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/constellation/2.22/workflows/s3proxy"><span title="Install s3proxy" class="linkLabel_WmDU">Install s3proxy</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/constellation/2.22/workflows/terminate"><span title="Terminate your cluster" class="linkLabel_WmDU">Terminate your cluster</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/constellation/2.22/workflows/recovery"><span title="Recover your cluster" class="linkLabel_WmDU">Recover your cluster</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/constellation/2.22/workflows/verify-cluster"><span title="Verify your cluster" class="linkLabel_WmDU">Verify your cluster</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/constellation/2.22/workflows/storage"><span title="Use persistent storage" class="linkLabel_WmDU">Use persistent storage</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/constellation/2.22/workflows/terraform-provider"><span title="Use the Terraform provider" class="linkLabel_WmDU">Use the Terraform provider</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/constellation/2.22/workflows/sbom"><span title="Consume SBOMs" class="linkLabel_WmDU">Consume SBOMs</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/constellation/2.22/workflows/reproducible-builds"><span title="Reproduce release artifacts" class="linkLabel_WmDU">Reproduce release artifacts</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/constellation/2.22/workflows/troubleshooting"><span title="Troubleshooting" class="linkLabel_WmDU">Troubleshooting</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/constellation/2.22/category/architecture"><span title="Architecture" class="categoryLinkLabel_W154">Architecture</span></a><button aria-label="Expand sidebar category &#x27;Architecture&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/constellation/2.22/category/reference"><span title="Reference" class="categoryLinkLabel_W154">Reference</span></a><button aria-label="Expand sidebar category &#x27;Reference&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->Constellation<!-- --> <b>2.22</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/constellation/workflows/config">latest version</a></b> (<!-- -->2.24<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/constellation/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/constellation/2.22/category/workflows"><span>Workflows</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Configure your cluster</span></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 2.22</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Configure your cluster</h1></header>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>This recording presents the essence of this page. It&#x27;s recommended to read it in full for the motivation and all details.</p></div></div>
<div>Loading asciinema cast...</div>
<hr>
<p>Before you can create your cluster, you need to configure the identity and access management (IAM) for your cloud service provider (CSP) and choose machine types for the nodes.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="creating-the-configuration-file">Creating the configuration file<a href="#creating-the-configuration-file" class="hash-link" aria-label="Direct link to Creating the configuration file" title="Direct link to Creating the configuration file" translate="no">​</a></h2>
<p>You can generate a configuration file for your CSP by using the following CLI command:</p>
<div class="theme-tabs-container tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">AWS</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Azure</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">GCP</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">STACKIT</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">constellation config generate aws</span><br></span></code></pre></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">constellation config generate azure</span><br></span></code></pre></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">constellation config generate gcp</span><br></span></code></pre></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">constellation config generate stackit</span><br></span></code></pre></div></div></div></div></div>
<p>This creates the file <code>constellation-conf.yaml</code> in the current directory.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="choosing-a-vm-type">Choosing a VM type<a href="#choosing-a-vm-type" class="hash-link" aria-label="Direct link to Choosing a VM type" title="Direct link to Choosing a VM type" translate="no">​</a></h2>
<p>Constellation supports the following VM types:</p>
<div class="theme-tabs-container tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">AWS</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Azure</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">GCP</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">STACKIT</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p>By default, Constellation uses <code>m6a.xlarge</code> VMs (4 vCPUs, 16 GB RAM) to create your cluster.
Optionally, you can switch to a different VM type by modifying <code>instanceType</code> in the configuration file.
If you are using the default attestation variant <code>awsSEVSNP</code>, you can use the instance types described in <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/snp-requirements.html" target="_blank" rel="noopener noreferrer" class="">AWS&#x27;s AMD SEV-SNP docs</a>.
Please mind the region restrictions mentioned in the <a class="" href="/constellation/2.22/getting-started/first-steps#create-a-cluster">Getting started</a> section.</p><p>If you are using the attestation variant <code>awsNitroTPM</code>, you can choose any of the <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/enable-nitrotpm-prerequisites.html" target="_blank" rel="noopener noreferrer" class="">nitroTPM-enabled instance types</a>.</p><p>The Constellation CLI can also print the supported instance types with: <code>constellation config instance-types</code>.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>By default, Constellation uses <code>Standard_DC4as_v5</code> CVMs (4 vCPUs, 16 GB RAM) to create your cluster. Optionally, you can switch to a different VM type by modifying <code>instanceType</code> in the configuration file. For CVMs, any VM type with a minimum of 4 vCPUs from the <a href="https://docs.microsoft.com/en-us/azure/virtual-machines/dcasv5-dcadsv5-series" target="_blank" rel="noopener noreferrer" class="">DCasv5 &amp; DCadsv5</a> or <a href="https://docs.microsoft.com/en-us/azure/virtual-machines/ecasv5-ecadsv5-series" target="_blank" rel="noopener noreferrer" class="">ECasv5 &amp; ECadsv5</a> families is supported.</p><p>You can also run <code>constellation config instance-types</code> to get the list of all supported options.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>By default, Constellation uses <code>n2d-standard-4</code> VMs (4 vCPUs, 16 GB RAM) to create your cluster. Optionally, you can switch to a different VM type by modifying <code>instanceType</code> in the configuration file. Supported are all machines with a minimum of 4 vCPUs from the <a href="https://cloud.google.com/compute/docs/compute-optimized-machines#c2d_machine_types" target="_blank" rel="noopener noreferrer" class="">C2D</a> or <a href="https://cloud.google.com/compute/docs/general-purpose-machines#n2d_machines" target="_blank" rel="noopener noreferrer" class="">N2D</a> family. You can run  <code>constellation config instance-types</code> to get the list of all supported options.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>By default, Constellation uses <code>m1a.4cd</code> VMs (4 vCPUs, 30 GB RAM) to create your cluster.
Optionally, you can switch to a different VM type by modifying <code>instanceType</code> in the configuration file.</p><p>The following instance types are known to be supported:</p><table><thead><tr><th>name</th><th>vCPUs</th><th>GB RAM</th></tr></thead><tbody><tr><td>m1a.4cd</td><td>4</td><td>30</td></tr><tr><td>m1a.8cd</td><td>8</td><td>60</td></tr><tr><td>m1a.16cd</td><td>16</td><td>120</td></tr><tr><td>m1a.30cd</td><td>30</td><td>230</td></tr></tbody></table><p>You can choose any of the SEV-enabled instance types. You can find a list of all supported instance types in the <a href="https://docs.stackit.cloud/stackit/en/virtual-machine-flavors-75137231.html" target="_blank" rel="noopener noreferrer" class="">STACKIT documentation</a>.</p><p>The Constellation CLI can also print the supported instance types with: <code>constellation config instance-types</code>.</p></div></div></div>
<p>Fill the desired VM type into the <code>instanceType</code> fields in the <code>constellation-conf.yml</code> file.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="creating-additional-node-groups">Creating additional node groups<a href="#creating-additional-node-groups" class="hash-link" aria-label="Direct link to Creating additional node groups" title="Direct link to Creating additional node groups" translate="no">​</a></h2>
<p>By default, Constellation creates the node groups <code>control_plane_default</code> and <code>worker_default</code> for control-plane nodes and workers, respectively.
If you require additional control-plane or worker groups with different instance types, zone placements, or disk sizes, you can add additional node groups to the <code>constellation-conf.yml</code> file.
Each node group can be scaled individually.</p>
<p>Consider the following example for AWS:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">nodeGroups</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">control_plane_default</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">role</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> control</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">plane</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">instanceType</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> c6a.xlarge</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">stateDiskSizeGB</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">stateDiskType</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> gp3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">zone</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> eu</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">west</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">1c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">initialCount</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">worker_default</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">role</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> worker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">instanceType</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> c6a.xlarge</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">stateDiskSizeGB</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">stateDiskType</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> gp3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">zone</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> eu</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">west</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">1c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">initialCount</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">high_cpu</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">role</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> worker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">instanceType</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> c6a.24xlarge</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">stateDiskSizeGB</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">128</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">stateDiskType</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> gp3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">zone</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> eu</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">west</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">1c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">initialCount</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><br></span></code></pre></div></div>
<p>This configuration creates an additional node group <code>high_cpu</code> with a larger instance type and disk.</p>
<p>You can use the field <code>zone</code> to specify what availability zone nodes of the group are placed in.
On Azure, this field is empty by default and nodes are automatically spread across availability zones.
STACKIT currently offers SEV-enabled CPUs in the <code>eu01-1</code>, <code>eu01-2</code>, and <code>eu01-3</code> zones.
Consult the documentation of your cloud provider for more information:</p>
<ul>
<li class=""><a href="https://aws.amazon.com/about-aws/global-infrastructure/regions_az/" target="_blank" rel="noopener noreferrer" class="">AWS</a></li>
<li class=""><a href="https://azure.microsoft.com/en-us/explore/global-infrastructure/availability-zones" target="_blank" rel="noopener noreferrer" class="">Azure</a></li>
<li class=""><a href="https://cloud.google.com/compute/docs/regions-zones" target="_blank" rel="noopener noreferrer" class="">GCP</a></li>
<li class=""><a href="https://docs.stackit.cloud/stackit/en/regions-and-availability-zones-75137212.html" target="_blank" rel="noopener noreferrer" class="">STACKIT</a></li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="choosing-a-kubernetes-version">Choosing a Kubernetes version<a href="#choosing-a-kubernetes-version" class="hash-link" aria-label="Direct link to Choosing a Kubernetes version" title="Direct link to Choosing a Kubernetes version" translate="no">​</a></h2>
<p>To learn which Kubernetes versions can be installed with your current CLI, you can run <code>constellation config kubernetes-versions</code>.
See also Constellation&#x27;s <a class="" href="/constellation/2.22/architecture/versions#kubernetes-support-policy">Kubernetes support policy</a>.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="creating-an-iam-configuration">Creating an IAM configuration<a href="#creating-an-iam-configuration" class="hash-link" aria-label="Direct link to Creating an IAM configuration" title="Direct link to Creating an IAM configuration" translate="no">​</a></h2>
<p>You can create an IAM configuration for your cluster automatically using the <code>constellation iam create</code> command.
If you already have a Constellation configuration file, you can add the <code>--update-config</code> flag to the command. This writes the needed IAM fields into your configuration. Furthermore, the flag updates the zone/region of the configuration if it hasn&#x27;t been set yet.</p>
<div class="theme-tabs-container tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">AWS</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Azure</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">GCP</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">STACKIT</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p>You must be authenticated with the <a href="https://aws.amazon.com/en/cli/" target="_blank" rel="noopener noreferrer" class="">AWS CLI</a> in the shell session with a user that has the <a class="" href="/constellation/2.22/getting-started/install#set-up-cloud-credentials">required permissions for IAM creation</a>.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">constellation iam create aws --zone=us-east-2a --prefix=constellTest</span><br></span></code></pre></div></div><p>This command creates IAM configuration for the AWS zone <code>us-east-2a</code> using the prefix <code>constellTest</code> for all named resources being created.</p><p>Constellation OS images are currently replicated to the following regions:</p><ul>
<li class=""><code>eu-central-1</code></li>
<li class=""><code>eu-west-1</code></li>
<li class=""><code>eu-west-3</code></li>
<li class=""><code>us-east-2</code></li>
<li class=""><code>ap-south-1</code></li>
</ul><p>If you require the OS image to be available in another region, <a href="https://github.com/edgelesssys/constellation/issues/new?assignees=&amp;labels=&amp;template=feature_request.md&amp;title=Support+new+AWS+image+region:+xx-xxxx-x" target="_blank" rel="noopener noreferrer" class="">let us know</a>.</p><p>You can find a list of all <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-regions-availability-zones.html#concepts-available-regions" target="_blank" rel="noopener noreferrer" class="">regions in AWS&#x27;s documentation</a>.</p><p>Paste the output into the corresponding fields of the <code>constellation-conf.yaml</code> file.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>You must be authenticated with the <a href="https://learn.microsoft.com/en-us/cli/azure/install-azure-cli" target="_blank" rel="noopener noreferrer" class="">Azure CLI</a> in the shell session with a user that has the <a class="" href="/constellation/2.22/getting-started/install#set-up-cloud-credentials">required permissions for IAM creation</a>.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">constellation iam create azure --subscriptionID 00000000-0000-0000-0000-000000000000 --region=westus --resourceGroup=constellTest --servicePrincipal=spTest</span><br></span></code></pre></div></div><p>This command creates IAM configuration on the Azure region <code>westus</code> creating a new resource group <code>constellTest</code> and a new service principal <code>spTest</code>.</p><p>CVMs are available in several Azure regions. Constellation OS images are currently replicated to the following:</p><ul>
<li class=""><code>germanywestcentral</code></li>
<li class=""><code>westus</code></li>
<li class=""><code>eastus</code></li>
<li class=""><code>northeurope</code></li>
<li class=""><code>westeurope</code></li>
<li class=""><code>southeastasia</code></li>
</ul><p>If you require the OS image to be available in another region, <a href="https://github.com/edgelesssys/constellation/issues/new?assignees=&amp;labels=&amp;template=feature_request.md&amp;title=Support+new+Azure+image+region:+xx-xxxx-x" target="_blank" rel="noopener noreferrer" class="">let us know</a>.</p><p>You can find a list of all <a href="https://azure.microsoft.com/en-us/global-infrastructure/services/?products=virtual-machines&amp;regions=all" target="_blank" rel="noopener noreferrer" class="">regions in Azure&#x27;s documentation</a>.</p><p>Paste the output into the corresponding fields of the <code>constellation-conf.yaml</code> file.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>You must be authenticated with the <a href="https://cloud.google.com/sdk/gcloud" target="_blank" rel="noopener noreferrer" class="">GCP CLI</a> in the shell session with a user that has the <a class="" href="/constellation/2.22/getting-started/install#set-up-cloud-credentials">required permissions for IAM creation</a>.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">constellation iam create gcp --projectID=yourproject-12345 --zone=europe-west3-a --prefix=constell-test</span><br></span></code></pre></div></div><p>This command creates IAM configuration in the GCP project <code>yourproject-12345</code> on the GCP zone <code>europe-west3-a</code> creating a new service account <code>constell-test</code>.</p><p>Note that only regions offering CVMs of the <code>C2D</code> or <code>N2D</code> series are supported. You can find a <a href="https://cloud.google.com/compute/docs/regions-zones#available" target="_blank" rel="noopener noreferrer" class="">list of all regions in Google&#x27;s documentation</a>, which you can filter by machine type <code>N2D</code>.</p><p>Paste the output into the corresponding fields of the <code>constellation-conf.yaml</code> file.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>STACKIT requires manual creation and configuration of service accounts. Look at the <a class="" href="/constellation/2.22/getting-started/first-steps">first steps</a> for more information.</p></div></div></div>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Alternatively, you can manually create the IAM configuration on your CSP.</summary><div><div class="collapsibleContent_i85q"><p>The following describes the configuration fields and how you obtain the required information or create the required resources.</p><div class="theme-tabs-container tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">AWS</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Azure</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">GCP</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">STACKIT</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><ul>
<li class="">
<p><strong>region</strong>: The name of your chosen AWS data center region, e.g., <code>us-east-2</code>.</p>
<p>Constellation OS images are currently replicated to the following regions:</p>
<ul>
<li class=""><code>eu-central-1</code></li>
<li class=""><code>eu-west-1</code></li>
<li class=""><code>eu-west-3</code></li>
<li class=""><code>us-east-2</code></li>
<li class=""><code>ap-south-1</code></li>
</ul>
<p>If you require the OS image to be available in another region, <a href="https://github.com/edgelesssys/constellation/issues/new?assignees=&amp;labels=&amp;template=feature_request.md&amp;title=Support+new+AWS+image+region:+xx-xxxx-x" target="_blank" rel="noopener noreferrer" class="">let us know</a>.</p>
<p>You can find a list of all <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-regions-availability-zones.html#concepts-available-regions" target="_blank" rel="noopener noreferrer" class="">regions in AWS&#x27;s documentation</a>.</p>
</li>
<li class="">
<p><strong>zone</strong>: The name of your chosen AWS data center availability zone, e.g., <code>us-east-2a</code>.</p>
<p>Learn more about <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-regions-availability-zones.html#concepts-availability-zones" target="_blank" rel="noopener noreferrer" class="">availability zones in AWS&#x27;s documentation</a>.</p>
</li>
<li class="">
<p><strong>iamProfileControlPlane</strong>: The name of an IAM instance profile attached to all control-plane nodes.</p>
<p>You can create the resource with <a href="https://www.terraform.io/" target="_blank" rel="noopener noreferrer" class="">Terraform</a>. For that, use the <a href="https://github.com/edgelesssys/constellation/tree/release/v2.2/hack/terraform/aws/iam" target="_blank" rel="noopener noreferrer" class="">provided Terraform script</a> to generate the necessary profile. The profile name will be provided as Terraform output value: <code>control_plane_instance_profile_name</code>.</p>
<p>Alternatively, you can create the AWS profile with a tool of your choice. Use the JSON policy in <a href="https://github.com/edgelesssys/constellation/tree/release/v2.2/hack/terraform/aws/iam/main.tf" target="_blank" rel="noopener noreferrer" class="">main.tf</a> in the resource <code>aws_iam_policy.control_plane_policy</code>.</p>
</li>
<li class="">
<p><strong>iamProfileWorkerNodes</strong>: The name of an IAM instance profile attached to all worker nodes.</p>
<p>You can create the resource with <a href="https://www.terraform.io/" target="_blank" rel="noopener noreferrer" class="">Terraform</a>. For that, use the <a href="https://github.com/edgelesssys/constellation/tree/release/v2.2/hack/terraform/aws/iam" target="_blank" rel="noopener noreferrer" class="">provided Terraform script</a> to generate the necessary profile. The profile name will be provided as Terraform output value: <code>worker_nodes_instance_profile_name</code>.</p>
<p>Alternatively, you can create the AWS profile with a tool of your choice. Use the JSON policy in <a href="https://github.com/edgelesssys/constellation/tree/release/v2.2/hack/terraform/aws/iam/main.tf" target="_blank" rel="noopener noreferrer" class="">main.tf</a> in the resource <code>aws_iam_policy.worker_node_policy</code>.</p>
</li>
</ul></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><ul>
<li class="">
<p><strong>subscription</strong>: The UUID of your Azure subscription, e.g., <code>8b8bd01f-efd9-4113-9bd1-c82137c32da7</code>.</p>
<p>You can view your subscription UUID via <code>az account show</code> and read the <code>id</code> field. For more information refer to <a href="https://docs.microsoft.com/en-us/azure/azure-portal/get-subscription-tenant-id#find-your-azure-subscription" target="_blank" rel="noopener noreferrer" class="">Azure&#x27;s documentation</a>.</p>
</li>
<li class="">
<p><strong>tenant</strong>: The UUID of your Azure tenant, e.g., <code>3400e5a2-8fe2-492a-886c-38cb66170f25</code>.</p>
<p>You can view your tenant UUID via <code>az account show</code> and read the <code>tenant</code> field. For more information refer to <a href="https://docs.microsoft.com/en-us/azure/azure-portal/get-subscription-tenant-id#find-your-azure-ad-tenant" target="_blank" rel="noopener noreferrer" class="">Azure&#x27;s documentation</a>.</p>
</li>
<li class="">
<p><strong>location</strong>: The Azure datacenter location you want to deploy your cluster in, e.g., <code>westus</code>.</p>
<p>CVMs are available in several Azure regions. Constellation OS images are currently replicated to the following:</p>
<ul>
<li class=""><code>germanywestcentral</code></li>
<li class=""><code>westus</code></li>
<li class=""><code>eastus</code></li>
<li class=""><code>northeurope</code></li>
<li class=""><code>westeurope</code></li>
<li class=""><code>southeastasia</code></li>
</ul>
<p>If you require the OS image to be available in another region, <a href="https://github.com/edgelesssys/constellation/issues/new?assignees=&amp;labels=&amp;template=feature_request.md&amp;title=Support+new+Azure+image+region:+xx-xxxx-x" target="_blank" rel="noopener noreferrer" class="">let us know</a>.</p>
<p>You can find a list of all <a href="https://azure.microsoft.com/en-us/global-infrastructure/services/?products=virtual-machines&amp;regions=all" target="_blank" rel="noopener noreferrer" class="">regions in Azure&#x27;s documentation</a>.</p>
</li>
<li class="">
<p><strong>resourceGroup</strong>: <a href="https://learn.microsoft.com/azure/azure-resource-manager/management/manage-resource-groups-portal" target="_blank" rel="noopener noreferrer" class="">Create a new resource group in Azure</a> for your Constellation cluster. Set this configuration     field to the name of the created resource group.</p>
</li>
<li class="">
<p><strong>userAssignedIdentity</strong>: <a href="https://learn.microsoft.com/azure/active-directory/managed-identities-azure-resources/how-manage-user-assigned-managed-identities" target="_blank" rel="noopener noreferrer" class="">Create a new managed identity in Azure</a>. You should create the identity in a different resource group as all resources within the cluster resource group will be deleted on cluster termination.</p>
<p>Add three role assignments to the identity: <code>Owner</code>, <code>Virtual Machine Contributor</code>, and <code>Application Insights Component Contributor</code>. The <code>scope</code> of all three should refer to the previously created cluster resource group.</p>
<p>Set the configuration value to the full ID of the created identity, e.g., <code>/subscriptions/8b8bd01f-efd9-4113-9bd1-c82137c32da7/resourcegroups/constellation-identity/providers/Microsoft.ManagedIdentity/userAssignedIdentities/constellation-identity</code>. You can get it by opening the <code>JSON View</code> from the <code>Overview</code> section of the identity.</p>
<p>The user-assigned identity is used by instances of the cluster to access other cloud resources.
For more information about managed identities refer to <a href="https://docs.microsoft.com/en-us/azure/active-directory/managed-identities-azure-resources/how-manage-user-assigned-managed-identities" target="_blank" rel="noopener noreferrer" class="">Azure&#x27;s documentation</a>.</p>
</li>
</ul></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><ul>
<li class="">
<p><strong>project</strong>: The ID of your GCP project, e.g., <code>constellation-129857</code>.</p>
<p>You can find it on the <a href="https://console.cloud.google.com/welcome" target="_blank" rel="noopener noreferrer" class="">welcome screen of your GCP project</a>. For more information refer to <a href="https://support.google.com/googleapi/answer/7014113" target="_blank" rel="noopener noreferrer" class="">Google&#x27;s documentation</a>.</p>
</li>
<li class="">
<p><strong>region</strong>: The GCP region you want to deploy your cluster in, e.g., <code>us-central1</code>.</p>
<p>You can find a <a href="https://cloud.google.com/compute/docs/regions-zones#available" target="_blank" rel="noopener noreferrer" class="">list of all regions in Google&#x27;s documentation</a>.</p>
</li>
<li class="">
<p><strong>zone</strong>: The GCP zone you want to deploy your cluster in, e.g., <code>us-central1-a</code>.</p>
<p>You can find a <a href="https://cloud.google.com/compute/docs/regions-zones#available" target="_blank" rel="noopener noreferrer" class="">list of all zones in Google&#x27;s documentation</a>.</p>
</li>
<li class="">
<p><strong>serviceAccountKeyPath</strong>: To configure this, you need to create a GCP <a href="https://cloud.google.com/iam/docs/service-accounts" target="_blank" rel="noopener noreferrer" class="">service account</a> with the following permissions:</p>
<ul>
<li class=""><code>Compute Instance Admin (v1) (roles/compute.instanceAdmin.v1)</code></li>
<li class=""><code>Compute Network Admin (roles/compute.networkAdmin)</code></li>
<li class=""><code>Compute Security Admin (roles/compute.securityAdmin)</code></li>
<li class=""><code>Compute Storage Admin (roles/compute.storageAdmin)</code></li>
<li class=""><code>Service Account User (roles/iam.serviceAccountUser)</code></li>
</ul>
<p>Afterward, create and download a new JSON key for this service account. Place the downloaded file in your Constellation workspace, and set the config parameter to the filename, e.g., <code>constellation-129857-15343dba46cb.json</code>.</p>
</li>
</ul></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>STACKIT requires manual creation and configuration of service accounts. Look at the <a class="" href="/constellation/2.22/getting-started/first-steps">first steps</a> for more information.</p></div></div></div></div></div></details>
<p>Now that you&#x27;ve configured your CSP, you can <a class="" href="/constellation/2.22/workflows/create">create your cluster</a>.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="deleting-an-iam-configuration">Deleting an IAM configuration<a href="#deleting-an-iam-configuration" class="hash-link" aria-label="Direct link to Deleting an IAM configuration" title="Direct link to Deleting an IAM configuration" translate="no">​</a></h2>
<p>You can keep a created IAM configuration and reuse it for new clusters. Alternatively, you can also delete it if you don&#x27;t want to use it anymore.</p>
<p>Delete the IAM configuration by executing the following command in the same directory where you executed <code>constellation iam create</code> (the directory that contains <a class="" href="/constellation/2.22/reference/terraform"><code>constellation-iam-terraform</code></a> as a subdirectory):</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">constellation iam destroy</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>For Azure, deleting the IAM configuration by executing <code>constellation iam destroy</code> will delete the whole resource group created by <code>constellation iam create</code>.
This also includes any additional resources in the resource group that weren&#x27;t created by Constellation.</p></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/edgelesssys/constellation/edit/main/docs/versioned_docs/version-2.22/workflows/config.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/constellation/2.22/workflows/verify-cli"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Verify the CLI</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/constellation/2.22/workflows/create"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Create your cluster</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#creating-the-configuration-file" class="table-of-contents__link toc-highlight">Creating the configuration file</a></li><li><a href="#choosing-a-vm-type" class="table-of-contents__link toc-highlight">Choosing a VM type</a></li><li><a href="#creating-additional-node-groups" class="table-of-contents__link toc-highlight">Creating additional node groups</a></li><li><a href="#choosing-a-kubernetes-version" class="table-of-contents__link toc-highlight">Choosing a Kubernetes version</a></li><li><a href="#creating-an-iam-configuration" class="table-of-contents__link toc-highlight">Creating an IAM configuration</a></li><li><a href="#deleting-an-iam-configuration" class="table-of-contents__link toc-highlight">Deleting an IAM configuration</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Learn</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/constellation/overview/confidential-kubernetes">Confidential Kubernetes</a></li><li class="footer__item"><a class="footer__link-item" href="/constellation/getting-started/install">Install</a></li><li class="footer__item"><a class="footer__link-item" href="/constellation/getting-started/first-steps">First steps</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/edgelesssys/constellation" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.edgeless.systems/#footer" target="_blank" rel="noopener noreferrer" class="footer__link-item">Newsletter<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.edgeless.systems/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://twitter.com/EdgelessSystems" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/edgeless-systems/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCOOInN0sCv6icUesisYIDeA" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Company</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.edgeless.systems/imprint/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Imprint<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.edgeless.systems/privacy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="javascript: Cookiebot.renew()" class="footer__link-item">Cookie Settings</a></li><li class="footer__item"><a href="https://www.edgeless.systems/contact-us/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact Us<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Edgeless Systems</div></div></div></footer></div>
</body>
</html>