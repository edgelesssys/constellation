"use strict";(globalThis.webpackChunkconstellation_docs=globalThis.webpackChunkconstellation_docs||[]).push([[9361],{21601:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>i,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"getting-started/marketplaces","title":"Using Constellation via Cloud Marketplaces","description":"Constellation is available through the Marketplaces of AWS, Azure, GCP, and STACKIT. This allows you to create self-managed Constellation clusters that are billed on a pay-per-use basis (hourly, per vCPU) with your CSP account. You can still get direct support by Edgeless Systems. For more information, please contact us.","source":"@site/versioned_docs/version-2.22/getting-started/marketplaces.md","sourceDirName":"getting-started","slug":"/getting-started/marketplaces","permalink":"/constellation/2.22/getting-started/marketplaces","draft":false,"unlisted":false,"editUrl":"https://github.com/edgelesssys/constellation/edit/main/docs/versioned_docs/version-2.22/getting-started/marketplaces.md","tags":[],"version":"2.22","frontMatter":{},"sidebar":"docs","previous":{"title":"First steps (local)","permalink":"/constellation/2.22/getting-started/first-steps-local"},"next":{"title":"Examples","permalink":"/constellation/2.22/getting-started/examples"}}');var n=s(74848),l=s(28453);const o={},r="Using Constellation via Cloud Marketplaces",i={},c=[];function d(e){const t={a:"a",code:"code",h1:"h1",header:"header",p:"p",pre:"pre",...(0,l.R)(),...e.components},{TabItem:s,Tabs:a}=t;return s||p("TabItem",!0),a||p("Tabs",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"using-constellation-via-cloud-marketplaces",children:"Using Constellation via Cloud Marketplaces"})}),"\n",(0,n.jsxs)(t.p,{children:["Constellation is available through the Marketplaces of AWS, Azure, GCP, and STACKIT. This allows you to create self-managed Constellation clusters that are billed on a pay-per-use basis (hourly, per vCPU) with your CSP account. You can still get direct support by Edgeless Systems. For more information, please ",(0,n.jsx)(t.a,{href:"https://www.edgeless.systems/enterprise-support/",children:"contact us"}),"."]}),"\n",(0,n.jsx)(t.p,{children:"This document explains how to run Constellation with the dynamically billed cloud marketplace images."}),"\n",(0,n.jsxs)(a,{groupId:"csp",children:[(0,n.jsxs)(s,{value:"aws",label:"AWS",children:[(0,n.jsxs)(t.p,{children:["To use Constellation's marketplace images, ensure that you are subscribed to the ",(0,n.jsx)(t.a,{href:"https://aws.amazon.com/marketplace/pp/prodview-2mbn65nv57oys",children:"marketplace offering"})," through the web portal."]}),(0,n.jsxs)(t.p,{children:["Then, enable the use of marketplace images in your Constellation ",(0,n.jsx)(t.code,{children:"constellation-conf.yaml"})," ",(0,n.jsx)(t.a,{href:"/constellation/2.22/workflows/config",children:"config file"}),":"]}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:'yq eval -i ".provider.aws.useMarketplaceImage = true" constellation-conf.yaml\n'})})]}),(0,n.jsxs)(s,{value:"azure",label:"Azure",children:[(0,n.jsxs)(t.p,{children:["Constellation has a private marketplace plan. Please ",(0,n.jsx)(t.a,{href:"https://www.edgeless.systems/enterprise-support/",children:"contact us"})," to gain access."]}),(0,n.jsxs)(t.p,{children:["To use a marketplace image, you need to accept the marketplace image's terms once for your subscription with the ",(0,n.jsx)(t.a,{href:"https://learn.microsoft.com/en-us/cli/azure/vm/image/terms?view=azure-cli-latest",children:"Azure CLI"}),":"]}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"az vm image terms accept --publisher edgelesssystems --offer constellation --plan constellation\n"})}),(0,n.jsxs)(t.p,{children:["Then, enable the use of marketplace images in your Constellation ",(0,n.jsx)(t.code,{children:"constellation-conf.yaml"})," ",(0,n.jsx)(t.a,{href:"/constellation/2.22/workflows/config",children:"config file"}),":"]}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:'yq eval -i ".provider.azure.useMarketplaceImage = true" constellation-conf.yaml\n'})})]}),(0,n.jsxs)(s,{value:"gcp",label:"GCP",children:[(0,n.jsxs)(t.p,{children:["To use a marketplace image, ensure that the account is entitled to use marketplace images by Edgeless Systems by accepting the terms through the ",(0,n.jsx)(t.a,{href:"https://console.cloud.google.com/marketplace/vm/config/edgeless-systems-public/constellation",children:"web portal"}),"."]}),(0,n.jsxs)(t.p,{children:["Then, enable the use of marketplace images in your Constellation ",(0,n.jsx)(t.code,{children:"constellation-conf.yaml"})," ",(0,n.jsx)(t.a,{href:"/constellation/2.22/workflows/config",children:"config file"}),":"]}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:'yq eval -i ".provider.gcp.useMarketplaceImage = true" constellation-conf.yaml\n'})})]}),(0,n.jsx)(s,{value:"stackit",label:"STACKIT",children:(0,n.jsx)(t.p,{children:"On STACKIT, the selected Constellation image is always a marketplace image. You can find more information on the STACKIT portal."})})]}),"\n",(0,n.jsxs)(t.p,{children:["Ensure that the cluster uses an official release image version (i.e., ",(0,n.jsx)(t.code,{children:".image=vX.Y.Z"})," in the ",(0,n.jsx)(t.code,{children:"constellation-conf.yaml"})," file)."]}),"\n",(0,n.jsxs)(t.p,{children:["From there, you can proceed with the ",(0,n.jsx)(t.a,{href:"/constellation/2.22/workflows/create",children:"cluster creation"})," as usual."]})]})}function h(e={}){const{wrapper:t}={...(0,l.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}function p(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},28453:(e,t,s)=>{s.d(t,{R:()=>o,x:()=>r});var a=s(96540);const n={},l=a.createContext(n);function o(e){const t=a.useContext(l);return a.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),a.createElement(l.Provider,{value:t},e.children)}}}]);