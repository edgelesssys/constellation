"use strict";(globalThis.webpackChunkconstellation_docs=globalThis.webpackChunkconstellation_docs||[]).push([[8048],{28453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>o});var i=s(96540);const l={},r=i.createContext(l);function t(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),i.createElement(r.Provider,{value:n},e.children)}},34842:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"getting-started/install","title":"Installation and setup","description":"Constellation runs entirely in your cloud environment and can be controlled via a dedicated command-line interface (CLI) or a Terraform provider.","source":"@site/versioned_docs/version-2.22/getting-started/install.md","sourceDirName":"getting-started","slug":"/getting-started/install","permalink":"/constellation/2.22/getting-started/install","draft":false,"unlisted":false,"editUrl":"https://github.com/edgelesssys/constellation/edit/main/docs/versioned_docs/version-2.22/getting-started/install.md","tags":[],"version":"2.22","frontMatter":{},"sidebar":"docs","previous":{"title":"Getting started","permalink":"/constellation/2.22/category/getting-started"},"next":{"title":"First steps (cloud)","permalink":"/constellation/2.22/getting-started/first-steps"}}');var l=s(74848),r=s(28453);const t={},o="Installation and setup",c={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Install the Constellation CLI",id:"install-the-constellation-cli",level:2},{value:"Set up cloud credentials",id:"set-up-cloud-credentials",level:2},{value:"Required permissions",id:"required-permissions",level:3},{value:"Authentication",id:"authentication",level:3},{value:"Next steps",id:"next-steps",level:2}];function a(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components},{TabItem:s,Tabs:i}=n;return s||u("TabItem",!0),i||u("Tabs",!0),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"installation-and-setup",children:"Installation and setup"})}),"\n",(0,l.jsxs)(n.p,{children:["Constellation runs entirely in your cloud environment and can be controlled via a dedicated ",(0,l.jsx)(n.a,{href:"/constellation/2.22/reference/cli",children:"command-line interface (CLI)"})," or a ",(0,l.jsx)(n.a,{href:"/constellation/2.22/workflows/terraform-provider",children:"Terraform provider"}),"."]}),"\n",(0,l.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,l.jsx)(n.p,{children:"Make sure the following requirements are met:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Your machine is running Linux, macOS, or Windows"}),"\n",(0,l.jsx)(n.li,{children:"You have admin rights on your machine"}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"https://kubernetes.io/docs/tasks/tools/",children:"kubectl"})," is installed"]}),"\n",(0,l.jsx)(n.li,{children:"Your CSP is Amazon Web Services (AWS), Microsoft Azure, Google Cloud Platform (GCP), or STACKIT"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"install-the-constellation-cli",children:"Install the Constellation CLI"}),"\n",(0,l.jsx)(n.admonition,{type:"tip",children:(0,l.jsxs)(n.p,{children:["If you prefer to use Terraform, you can alternatively use the ",(0,l.jsx)(n.a,{href:"/constellation/2.22/workflows/terraform-provider",children:"Terraform provider"})," to manage the cluster's lifecycle."]})}),"\n",(0,l.jsxs)(n.p,{children:["The CLI executable is available at ",(0,l.jsx)(n.a,{href:"https://github.com/edgelesssys/constellation/releases",children:"GitHub"}),".\nInstall it with the following commands:"]}),"\n",(0,l.jsxs)(i,{children:[(0,l.jsxs)(s,{value:"linux-amd64",label:"Linux (amd64)",children:[(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Download the CLI:"}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"curl -LO https://github.com/edgelesssys/constellation/releases/latest/download/constellation-linux-amd64\n"})}),(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.a,{href:"/constellation/2.22/workflows/verify-cli",children:"Verify the signature"})," (optional)"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Install the CLI to your PATH:"}),"\n"]}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo install constellation-linux-amd64 /usr/local/bin/constellation\n"})})]}),(0,l.jsxs)(s,{value:"linux-arm64",label:"Linux (arm64)",children:[(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Download the CLI:"}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"curl -LO https://github.com/edgelesssys/constellation/releases/latest/download/constellation-linux-arm64\n"})}),(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.a,{href:"/constellation/2.22/workflows/verify-cli",children:"Verify the signature"})," (optional)"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Install the CLI to your PATH:"}),"\n"]}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo install constellation-linux-arm64 /usr/local/bin/constellation\n"})})]}),(0,l.jsxs)(s,{value:"darwin-arm64",label:"macOS (Apple Silicon)",children:[(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Download the CLI:"}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"curl -LO https://github.com/edgelesssys/constellation/releases/latest/download/constellation-darwin-arm64\n"})}),(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.a,{href:"/constellation/2.22/workflows/verify-cli",children:"Verify the signature"})," (optional)"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Install the CLI to your PATH:"}),"\n"]}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo install constellation-darwin-arm64 /usr/local/bin/constellation\n"})})]}),(0,l.jsxs)(s,{value:"darwin-amd64",label:"macOS (Intel)",children:[(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Download the CLI:"}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"curl -LO https://github.com/edgelesssys/constellation/releases/latest/download/constellation-darwin-amd64\n"})}),(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.a,{href:"/constellation/2.22/workflows/verify-cli",children:"Verify the signature"})," (optional)"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Install the CLI to your PATH:"}),"\n"]}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo install constellation-darwin-amd64 /usr/local/bin/constellation\n"})})]}),(0,l.jsxs)(s,{value:"windows-amd64",label:"Windows (amd64)",children:[(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Download the CLI:"}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"Invoke-WebRequest -OutFile ./constellation.exe -Uri 'https://github.com/edgelesssys/constellation/releases/latest/download/constellation-windows-amd64.exe'\n"})}),(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.a,{href:"/constellation/2.22/workflows/verify-cli",children:"Verify the signature"})," (optional)"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Install the CLI under ",(0,l.jsx)(n.code,{children:"C:\\Program Files\\Constellation\\bin\\constellation.exe"})]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Add the CLI to your PATH:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Open ",(0,l.jsx)(n.code,{children:"Advanced system settings"})," by searching for the App in the Windows search"]}),"\n",(0,l.jsxs)(n.li,{children:["Go to the ",(0,l.jsx)(n.code,{children:"Advanced"})," tab"]}),"\n",(0,l.jsxs)(n.li,{children:["Click ",(0,l.jsx)(n.code,{children:"Environment Variables\u2026"})]}),"\n",(0,l.jsxs)(n.li,{children:["Click variable called ",(0,l.jsx)(n.code,{children:"Path"})," and click ",(0,l.jsx)(n.code,{children:"Edit\u2026"})]}),"\n",(0,l.jsxs)(n.li,{children:["Click ",(0,l.jsx)(n.code,{children:"New"})]}),"\n",(0,l.jsxs)(n.li,{children:["Enter the path to the folder containing the binary you want on your PATH: ",(0,l.jsx)(n.code,{children:"C:\\Program Files\\Constellation\\bin"})]}),"\n"]}),"\n"]}),"\n"]})]})]}),"\n",(0,l.jsx)(n.admonition,{type:"tip",children:(0,l.jsxs)(n.p,{children:["The CLI supports autocompletion for various shells. To set it up, run ",(0,l.jsx)(n.code,{children:"constellation completion"})," and follow the given steps."]})}),"\n",(0,l.jsx)(n.h2,{id:"set-up-cloud-credentials",children:"Set up cloud credentials"}),"\n",(0,l.jsx)(n.p,{children:"Constellation makes authenticated calls to the CSP API. Therefore, you need to set up Constellation with the credentials for your CSP."}),"\n",(0,l.jsx)(n.admonition,{type:"tip",children:(0,l.jsxs)(n.p,{children:["If you don't have a cloud subscription, you can also set up a ",(0,l.jsx)(n.a,{href:"/constellation/2.22/getting-started/first-steps-local",children:"local Constellation cluster using virtualization"})," for testing."]})}),"\n",(0,l.jsx)(n.h3,{id:"required-permissions",children:"Required permissions"}),"\n",(0,l.jsxs)(i,{groupId:"csp",children:[(0,l.jsxs)(s,{value:"aws",label:"AWS",children:[(0,l.jsx)(n.p,{children:"To set up a Constellation cluster, you need to perform two tasks that require permissions: create the infrastructure and create roles for cluster nodes. Both of these actions can be performed by different users, e.g., an administrator to create roles and a DevOps engineer to create the infrastructure."}),(0,l.jsxs)(n.p,{children:["To ",(0,l.jsx)(n.a,{href:"/constellation/2.22/workflows/config#creating-an-iam-configuration",children:"create the IAM configuration"})," for Constellation, you need the following permissions:"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n    "Version": "2012-10-17",\n    "Statement": [\n        {\n            "Effect": "Allow",\n            "Action": [\n                "ec2:DescribeAccountAttributes",\n                "iam:AddRoleToInstanceProfile",\n                "iam:AttachRolePolicy",\n                "iam:CreateInstanceProfile",\n                "iam:CreatePolicy",\n                "iam:CreateRole",\n                "iam:DeleteInstanceProfile",\n                "iam:DeletePolicy",\n                "iam:DeletePolicyVersion",\n                "iam:DeleteRole",\n                "iam:DetachRolePolicy",\n                "iam:GetInstanceProfile",\n                "iam:GetPolicy",\n                "iam:GetPolicyVersion",\n                "iam:GetRole",\n                "iam:ListAttachedRolePolicies",\n                "iam:ListInstanceProfilesForRole",\n                "iam:ListPolicyVersions",\n                "iam:ListRolePolicies",\n                "iam:PassRole",\n                "iam:RemoveRoleFromInstanceProfile",\n                "sts:GetCallerIdentity"\n            ],\n            "Resource": "*"\n        }\n    ]\n}\n'})}),(0,l.jsxs)(n.p,{children:["The built-in ",(0,l.jsx)(n.code,{children:"AdministratorAccess"})," policy is a superset of these permissions."]}),(0,l.jsxs)(n.p,{children:["To ",(0,l.jsx)(n.a,{href:"/constellation/2.22/workflows/create",children:"create a Constellation cluster"}),", see the permissions of ",(0,l.jsx)(n.a,{href:"https://github.com/edgelesssys/constellation/blob/main/terraform/infrastructure/iam/aws/main.tf",children:"main.tf"}),"."]}),(0,l.jsxs)(n.p,{children:["The built-in ",(0,l.jsx)(n.code,{children:"PowerUserAccess"})," policy is a superset of these permissions."]}),(0,l.jsxs)(n.p,{children:["Follow Amazon's guide on ",(0,l.jsx)(n.a,{href:"https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html",children:"understanding"})," and ",(0,l.jsx)(n.a,{href:"https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_managed-vs-inline.html",children:"managing policies"}),"."]})]}),(0,l.jsxs)(s,{value:"azure",label:"Azure",children:[(0,l.jsxs)(n.p,{children:["The following ",(0,l.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/azure/azure-resource-manager/management/resource-providers-and-types#register-resource-provider",children:"resource providers need to be registered"})," in your subscription:"]}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"Microsoft.Attestation"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"Microsoft.Compute"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"Microsoft.Insights"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"Microsoft.ManagedIdentity"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"Microsoft.Network"})}),"\n"]}),(0,l.jsx)(n.p,{children:"By default, Constellation tries to register these automatically if they haven't been registered before."}),(0,l.jsxs)(n.p,{children:["To ",(0,l.jsx)(n.a,{href:"/constellation/2.22/workflows/config#creating-an-iam-configuration",children:"create the IAM configuration"})," for Constellation, you need the following permissions:"]}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"*/register/action"})," [1]"]}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"Microsoft.Authorization/roleAssignments/*"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"Microsoft.Authorization/roleDefinitions/*"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"Microsoft.ManagedIdentity/userAssignedIdentities/*"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"Microsoft.Resources/subscriptions/resourcegroups/*"})}),"\n"]}),(0,l.jsxs)(n.p,{children:["The built-in ",(0,l.jsx)(n.code,{children:"Owner"})," role is a superset of these permissions."]}),(0,l.jsxs)(n.p,{children:["To ",(0,l.jsx)(n.a,{href:"/constellation/2.22/workflows/create",children:"create a Constellation cluster"}),", you need the following permissions:"]}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"Microsoft.Attestation/attestationProviders/*"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"Microsoft.Compute/virtualMachineScaleSets/*"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"Microsoft.Insights/components/*"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"Microsoft.ManagedIdentity/userAssignedIdentities/*"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"Microsoft.Network/loadBalancers/*"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"Microsoft.Network/loadBalancers/backendAddressPools/*"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"Microsoft.Network/networkSecurityGroups/*"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"Microsoft.Network/publicIPAddresses/*"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"Microsoft.Network/virtualNetworks/*"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"Microsoft.Network/virtualNetworks/subnets/*"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"Microsoft.Network/natGateways/*"})}),"\n"]}),(0,l.jsxs)(n.p,{children:["The built-in ",(0,l.jsx)(n.code,{children:"Contributor"})," role is a superset of these permissions."]}),(0,l.jsxs)(n.p,{children:["Follow Microsoft's guide on ",(0,l.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/azure/role-based-access-control/role-definitions",children:"understanding"})," and ",(0,l.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/azure/role-based-access-control/role-assignments",children:"assigning roles"}),"."]}),(0,l.jsxs)(n.p,{children:["1: You can omit ",(0,l.jsx)(n.code,{children:"*/register/Action"})," if the resource providers mentioned above are already registered and the ",(0,l.jsx)(n.code,{children:"ARM_SKIP_PROVIDER_REGISTRATION"})," environment variable is set to ",(0,l.jsx)(n.code,{children:"true"})," when creating the IAM configuration."]})]}),(0,l.jsxs)(s,{value:"gcp",label:"GCP",children:[(0,l.jsxs)(n.p,{children:["Create a new project for Constellation or use an existing one.\nEnable the ",(0,l.jsx)(n.a,{href:"https://console.cloud.google.com/apis/library/compute.googleapis.com",children:"Compute Engine API"})," on it."]}),(0,l.jsxs)(n.p,{children:["To ",(0,l.jsx)(n.a,{href:"/constellation/2.22/workflows/config#creating-an-iam-configuration",children:"create the IAM configuration"})," for Constellation, you need the following permissions:"]}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"iam.roles.create"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"iam.roles.delete"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"iam.roles.get"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"iam.serviceAccountKeys.create"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"iam.serviceAccountKeys.delete"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"iam.serviceAccountKeys.get"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"iam.serviceAccounts.create"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"iam.serviceAccounts.delete"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"iam.serviceAccounts.get"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"resourcemanager.projects.getIamPolicy"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"resourcemanager.projects.setIamPolicy"})}),"\n"]}),(0,l.jsxs)(n.p,{children:["Together, the built-in roles ",(0,l.jsx)(n.code,{children:"roles/editor"})," and ",(0,l.jsx)(n.code,{children:"roles/resourcemanager.projectIamAdmin"})," form a superset of these permissions."]}),(0,l.jsxs)(n.p,{children:["To ",(0,l.jsx)(n.a,{href:"/constellation/2.22/workflows/create",children:"create a Constellation cluster"}),", you need the following permissions:"]}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.addresses.createInternal"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.addresses.deleteInternal"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.addresses.get"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.addresses.useInternal"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.backendServices.create"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.backendServices.delete"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.backendServices.get"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.backendServices.use"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.disks.create"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.firewalls.create"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.firewalls.delete"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.firewalls.get"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.firewalls.update"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.globalAddresses.create"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.globalAddresses.delete"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.globalAddresses.get"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.globalAddresses.use"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.globalForwardingRules.create"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.globalForwardingRules.delete"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.globalForwardingRules.get"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.globalForwardingRules.setLabels"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.globalOperations.get"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.healthChecks.create"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.healthChecks.delete"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.healthChecks.get"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.healthChecks.useReadOnly"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.instanceGroupManagers.create"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.instanceGroupManagers.delete"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.instanceGroupManagers.get"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.instanceGroupManagers.update"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.instanceGroups.create"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.instanceGroups.delete"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.instanceGroups.get"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.instanceGroups.update"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.instanceGroups.use"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.instances.create"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.instances.setLabels"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.instances.setMetadata"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.instances.setTags"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.instanceTemplates.create"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.instanceTemplates.delete"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.instanceTemplates.get"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.instanceTemplates.useReadOnly"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.networks.create"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.networks.delete"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.networks.get"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.networks.updatePolicy"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.routers.create"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.routers.delete"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.routers.get"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.routers.update"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.subnetworks.create"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.subnetworks.delete"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.subnetworks.get"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.subnetworks.use"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.targetTcpProxies.create"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.targetTcpProxies.delete"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.targetTcpProxies.get"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"compute.targetTcpProxies.use"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"iam.serviceAccounts.actAs"})}),"\n"]}),(0,l.jsxs)(n.p,{children:["Together, the built-in roles ",(0,l.jsx)(n.code,{children:"roles/editor"}),", ",(0,l.jsx)(n.code,{children:"roles/compute.instanceAdmin"})," and ",(0,l.jsx)(n.code,{children:"roles/resourcemanager.projectIamAdmin"})," form a superset of these permissions."]}),(0,l.jsxs)(n.p,{children:["Follow Google's guide on ",(0,l.jsx)(n.a,{href:"https://cloud.google.com/iam/docs/understanding-roles",children:"understanding"})," and ",(0,l.jsx)(n.a,{href:"https://cloud.google.com/iam/docs/granting-changing-revoking-access",children:"assigning roles"}),"."]})]}),(0,l.jsx)(s,{value:"stackit",label:"STACKIT",children:(0,l.jsxs)(n.p,{children:["Constellation on STACKIT requires a User Access Token (UAT) for the OpenStack API and a STACKIT service account.\nThe UAT already has all required permissions by default.\nThe STACKIT service account needs the ",(0,l.jsx)(n.code,{children:"editor"})," role to create STACKIT LoadBalancers.\nLook at the ",(0,l.jsx)(n.a,{href:"https://docs.stackit.cloud/stackit/en/getting-started-in-service-accounts-134415831.html",children:"STACKIT documentation"})," on how to create the service account and assign the role."]})})]}),"\n",(0,l.jsx)(n.h3,{id:"authentication",children:"Authentication"}),"\n",(0,l.jsxs)(n.p,{children:["You need to authenticate with your CSP. The following lists the required steps for ",(0,l.jsx)(n.em,{children:"testing"})," and ",(0,l.jsx)(n.em,{children:"production"})," environments."]}),"\n",(0,l.jsx)(n.admonition,{type:"note",children:(0,l.jsxs)(n.p,{children:["The steps for a ",(0,l.jsx)(n.em,{children:"testing"})," environment are simpler. However, they may expose secrets to the CSP. If in doubt, follow the ",(0,l.jsx)(n.em,{children:"production"})," steps."]})}),"\n",(0,l.jsxs)(i,{groupId:"csp",children:[(0,l.jsxs)(s,{value:"aws",label:"AWS",children:[(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Testing"})}),(0,l.jsxs)(n.p,{children:["You can use the ",(0,l.jsx)(n.a,{href:"https://console.aws.amazon.com/cloudshell/home",children:"AWS CloudShell"}),". Make sure you are ",(0,l.jsx)(n.a,{href:"https://docs.aws.amazon.com/cloudshell/latest/userguide/sec-auth-with-identities.html",children:"authorized to use it"}),"."]}),(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Production"})}),(0,l.jsxs)(n.p,{children:["Use the latest version of the ",(0,l.jsx)(n.a,{href:"https://aws.amazon.com/cli/",children:"AWS CLI"})," on a trusted machine:"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"aws configure\n"})}),(0,l.jsxs)(n.p,{children:["Options and first steps are described in the ",(0,l.jsx)(n.a,{href:"https://docs.aws.amazon.com/cli/index.html",children:"AWS CLI documentation"}),"."]})]}),(0,l.jsxs)(s,{value:"azure",label:"Azure",children:[(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Testing"})}),(0,l.jsxs)(n.p,{children:["Simply open the ",(0,l.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/azure/cloud-shell/overview",children:"Azure Cloud Shell"}),"."]}),(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Production"})}),(0,l.jsxs)(n.p,{children:["Use the latest version of the ",(0,l.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/cli/azure/",children:"Azure CLI"})," on a trusted machine:"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"az login\n"})}),(0,l.jsxs)(n.p,{children:["Other options are described in Azure's ",(0,l.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/cli/azure/authenticate-azure-cli",children:"authentication guide"}),"."]})]}),(0,l.jsxs)(s,{value:"gcp",label:"GCP",children:[(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Testing"})}),(0,l.jsxs)(n.p,{children:["You can use the ",(0,l.jsx)(n.a,{href:"https://cloud.google.com/shell",children:"Google Cloud Shell"}),". Make sure your ",(0,l.jsx)(n.a,{href:"https://cloud.google.com/shell/docs/auth",children:"session is authorized"}),". For example, execute ",(0,l.jsx)(n.code,{children:"gsutil"})," and accept the authorization prompt."]}),(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Production"})}),(0,l.jsx)(n.p,{children:"Use one of the following options on a trusted machine:"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Use the ",(0,l.jsxs)(n.a,{href:"https://cloud.google.com/sdk/gcloud",children:[(0,l.jsx)(n.code,{children:"gcloud"})," CLI"]})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"gcloud auth application-default login\n"})}),"\n",(0,l.jsx)(n.p,{children:"This will ask you to log-in to your Google account and create your credentials.\nThe Constellation CLI will automatically load these credentials when needed."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Set up a service account and pass the credentials manually"}),"\n",(0,l.jsxs)(n.p,{children:["Follow ",(0,l.jsx)(n.a,{href:"https://cloud.google.com/docs/authentication/production#manually",children:"Google's guide"})," for setting up your credentials."]}),"\n"]}),"\n"]})]}),(0,l.jsxs)(s,{value:"stackit",label:"STACKIT",children:[(0,l.jsx)(n.p,{children:"You need to authenticate with the infrastructure API (OpenStack) and create a service account (STACKIT API)."}),(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.a,{href:"https://docs.stackit.cloud/stackit/en/step-1-generating-of-user-access-token-11763726.html",children:"Follow the STACKIT documentation"})," for obtaining a User Access Token (UAT) to use the infrastructure API"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Create a configuration file with the credentials from the User Access Token under:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Linux: ",(0,l.jsx)(n.code,{children:"~/.config/openstack/clouds.yaml"})]}),"\n",(0,l.jsxs)(n.li,{children:["macOS: ",(0,l.jsx)(n.code,{children:"/Users/<user>/Library/Application Support/openstack/clouds.yaml"})," or ",(0,l.jsx)(n.code,{children:"/etc/openstack/clouds.yaml"})]}),"\n",(0,l.jsxs)(n.li,{children:["Windows: ",(0,l.jsx)(n.code,{children:"%AppData%\\openstack\\clouds.yaml"})]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"clouds:\n    stackit:\n        auth:\n            auth_url: https://keystone.api.iaas.eu01.stackit.cloud/v3\n            username: REPLACE_WITH_UAT_USERNAME\n            password: REPLACE_WITH_UAT_PASSWORD\n            project_id: REPLACE_WITH_OPENSTACK_PROJECT_ID\n            project_name: REPLACE_WITH_STACKIT_PROJECT_NAME\n            user_domain_name: portal_mvp\n            project_domain_name: portal_mvp\n        region_name: RegionOne\n        identity_api_version: 3\n"})}),"\n"]}),"\n"]}),(0,l.jsx)(n.admonition,{type:"caution",children:(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"project_id"})," refers to the ID of your OpenStack project. The STACKIT portal also shows the STACKIT ID that's associated with your project in some places. Make sure you insert the OpenStack project ID in the ",(0,l.jsx)(n.code,{children:"clouds.yaml"})," file."]})}),(0,l.jsxs)(n.ol,{start:"3",children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.a,{href:"https://docs.stackit.cloud/stackit/en/getting-started-in-service-accounts-134415831.html",children:"Follow the STACKIT documentation"})," for creating a service account and an access token"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Assign the ",(0,l.jsx)(n.code,{children:"editor"})," role to the service account by ",(0,l.jsx)(n.a,{href:"https://docs.stackit.cloud/stackit/en/getting-started-in-service-accounts-134415831.html",children:"following the documentation"})]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Create a configuration file under ",(0,l.jsx)(n.code,{children:"~/.stackit/credentials.json"})," (",(0,l.jsx)(n.code,{children:"%USERPROFILE%\\.stackit\\credentials.json"})," on Windows)"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{"STACKIT_SERVICE_ACCOUNT_TOKEN":"REPLACE_WITH_TOKEN"}\n'})}),"\n"]}),"\n"]})]})]}),"\n",(0,l.jsx)(n.h2,{id:"next-steps",children:"Next steps"}),"\n",(0,l.jsxs)(n.p,{children:["You are now ready to ",(0,l.jsx)(n.a,{href:"/constellation/2.22/getting-started/first-steps",children:"deploy your first confidential Kubernetes cluster and application"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}function u(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}}}]);